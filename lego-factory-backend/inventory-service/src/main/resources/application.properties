# Import .env file from parent directory
spring.config.import=optional:file:../.env[.properties]

spring.application.name=${APP_NAME:lego-sample-factory}-inventory-service
server.port=${INVENTORY_SERVICE_PORT:8014}

# H2 Database Configuration (Development)
spring.datasource.url=${H2_DB_INVENTORY_PATH:jdbc:h2:mem:inventory_db;MODE=PostgreSQL;DB_CLOSE_DELAY=-1}
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Database Connection Pooling
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.maximum-pool-size=${DB_CONNECTION_POOL_SIZE:10}
spring.datasource.hikari.connection-timeout=${DB_CONNECTION_TIMEOUT:20000}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME:1800000}

# H2 Console Configuration
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED:true}
spring.h2.console.path=${SPRING_H2_CONSOLE_PATH:/h2-console}

# JPA Configuration
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:create-drop}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}

# Business Logic Configuration
inventory.low-stock-threshold=${INVENTORY_LOW_STOCK_THRESHOLD:10}

# Actuator Configuration
management.endpoints.web.exposure.include=${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:health,info,metrics}
management.endpoint.health.show-details=${MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS:always}
management.health.db.enabled=true

# Logging Configuration
logging.level.io.life=${LOGGING_LEVEL_IO_LIFE:DEBUG}
logging.level.org.hibernate=${LOG_LEVEL_HIBERNATE:WARN}
logging.level.root=${LOG_LEVEL_ROOT:INFO}

# Service Discovery (Disabled for development)
eureka.client.enabled=${EUREKA_CLIENT_ENABLED:false}
spring.cloud.discovery.enabled=${SPRING_CLOUD_DISCOVERY_ENABLED:false}

# Environment Profile
spring.profiles.active=${SPRING_PROFILES_ACTIVE:development}